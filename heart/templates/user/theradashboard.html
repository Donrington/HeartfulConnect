{%extends "user/theradashboardlayout.html"%}

{%block content%}

<style>
    body div{ 
 font-family: Gill Sans,Gill Sans MT,Calibri,sans-serif !important; 
 }
 </style>

        <!-- Page wrapper  -->
        <!-- ============================================================== -->
        <div class="page-wrapper">
            <!-- ============================================================== -->
            <!-- Bread crumb and right sidebar toggle -->
            <!-- ============================================================== -->
            <div class="page-breadcrumb ">
                <div class="row align-items-center">
                    <div class="col-md-6 col-8 align-self-center">
                        <h3 class="page-title mb-0 p-0"  style="color: #BE1922;">Dashboard</h3>
                        <div class="d-flex align-items-center">
                            <nav aria-label="breadcrumb">
                                <ol class="breadcrumb">
                                    <li class="breadcrumb-item"><a href="#" style="color: #BE1922;">Home</a></li>
                                    <li class="breadcrumb-item active" aria-current="page" style="color: #BE1922;">Dashboard</li>
                                </ol>
                            </nav>
                        </div>
                    </div>
                    <div class="col-md-6 col-4 align-self-end">
                        <h2 >Welcome! {{thera.theraname}}  </h2>
                    </div>
                </div>
            </div>
            <!-- ============================================================== -->
            <!-- End Bread crumb and right sidebar toggle -->
            <!-- ============================================================== -->
            <!-- ============================================================== -->
            <!-- Container fluid  -->
            <!-- ============================================================== -->
            <div class="container-fluid">
                <!-- ============================================================== -->
                <!-- Sales chart -->
                <!-- ============================================================== -->
                
                <!-- ============================================================== -->
                <!-- Sales chart -->
                <!-- ============================================================== -->
                
                
                
                
                <div class="row">
                    <!-- Column -->
                    <div class="col-lg-4 col-xlg-3">
                        <!-- Column -->
                        {%set m = get_flashed_messages(with_categories=True)%}
                        {%if m: %}
                        {%for cat,msg in m%}
                            {%if cat == 'error'%}
                                <div class="alert alert-danger"> {{msg}} </div>
                            {%else%}
                                <div class="alert alert-success"> {{msg}} </div>
                            {%endif%}
                        {%endfor%}
                        {%endif%}
                        <!-- Column -->
                        <div class="card ">
                            <div class="card-body" style="background-color: #BE1922;">
                                <h4 class="text-white card-title">My Clients</h4>
                                <h6 class="card-subtitle text-white mb-0 op-5">Checkout your Clients here</h6>
                            </div>
                            <div class="card-body ">
                                <div class="message-box contact-box">
                                    <h2 class="add-ct-btn"><button type="button"
                                            class="btn btn-circle btn-lg btn-danger waves-effect waves-dark">+</button>
                                    </h2>
                                    
                                    <div class="message-widget contact-widget message story-container ">
                                        <!-- Message -->
                                 
                                    
                                        </a>
                                        {% for other_client in other_clients %}
                                        {%if other_client and other_client.user_img%}
                                        <!-- Message -->
                                        <a href="#" class="d-flex align-items-center">
                                            <div class="user-img mb-0"> 
                                                <img src=" /static/images/profile/{{ other_client.user_img }}" alt="{{ other_client.username }}" class="img-circle">
                                                <span class="profile-status online pull-right"></span>
                                              
                                            </div>
                                        {%else%}
                                        <a href="#" class="d-flex align-items-center">
                                            <div class="user-img mb-0"> 
                                                <img src="/static/images/profile/default.png" alt="{{ other_client.username }}" class="img-circle">
                                                <span class="profile-status online pull-right"></span>
                                        
                                            </div>
                                            {%endif%}
                                            <div class="mail-contnet">
                                                <h5 class="mb-0">{{ other_client.username }}</h5> 
                                                <span class="mail-desc">{{ other_client.email }}</span>
                                            </div>
                                        </a>
                                        
                                        {% endfor %}
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-8 col-xlg-9 ">
                        <div class="card message">
                            <!-- Nav tabs -->
                            <ul class="nav nav-tabs profile-tab" role="tablist">
                                <li class="nav-item"> <a class="nav-link active" data-bs-toggle="tab" href="#home"
                                        role="tab">Activity</a>
                                </li>
                                <li class="nav-item"> <a class="nav-link" data-bs-toggle="tab" href="#profile"
                                        role="tab">Profile</a> </li>
                                <li class="nav-item"> <a class="nav-link" data-bs-toggle="tab" href="#settings"
                                        role="tab">Profile Details</a>
                                </li>
                            </ul>
                            <!-- Tab panes -->
                            <div class="tab-content story-container">
                                <div class="tab-pane active" id="home" role="tabpanel">
                                    <div class="card-body">
                                        <div class="">
                                            <a href="{{url_for('therapist.consults')}}" class="btn btn-outline-dark text-dark form-control">Click to View Consultations</a>
                                            <hr>
                                         
                                            <table class="table table-striped align-middle mb-0 bg-white mt-5 col-md-12">
                                                <thead>
                                                    <tr>
                                                        <th>S/N</th>
                                                        <th>Client Name</th>
                                                        <th>Status</th>
                                                        <th>Action</th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    {% for consultation in consultations %}
                                                    <tr>
                                                        <td>{{ loop.index }}</td>
                                                        <td>
                                                            <div class="d-flex align-items-center">
                                                                {% if consultation.user_feed.user_img %}
                                                                    <img src="/static/images/profile/{{ consultation.user_feed.user_img }}" alt="{{ consultation.user_feed.username }}" style="width: 45px; height: 45px" class="rounded-circle">
                                                                {% else %}
                                                                    <img src="/static/images/profile/default.png" alt="{{ consultation.user_feed.username }}" style="width: 45px; height:45px" class="rounded-circle">
                                                                {% endif %}
                                                                <div class="ms-3">
                                                                    <p class="fw-bold mb-1">{{ consultation.user_feed.username }}</p>
                                                                    <p class="text-muted mb-0">{{ consultation.user_feed.email }}</p>
                                                                </div>
                                                            </div>
                                                        </td>
                                                        <td>
                                                            {% if consultation.status == 'pending' %}
                                                            <span class="badge rounded-pill text-bg-warning">{{ consultation.status }}</span>
                                                            {% elif consultation.status == 'accepted' %}
                                                            <span class="badge rounded-pill text-bg-success">{{ consultation.status }}</span>
                                                            {% elif consultation.status == 'declined' %}
                                                            <span class="badge rounded-pill text-bg-danger">{{ consultation.status }}</span>
                                                            {% endif %}
                                                        </td>
                                                        <td>
                                                            <a href="{{ url_for('therapist.accept_consultation', consultation_id=consultation.consultation_id) }}" class="btn btn-info">Accept</a>
                                                        </td>
                                                    </tr>
                                                    {% endfor %}
                                                </tbody>
                                            </table>
                                            
                                            
                                            <hr>
                                           
                                        </div>
                                    </div>
                                </div>
                                <!--second tab-->
                                <div class="tab-pane" id="profile" role="tabpanel">
                                    <div class="card-body">
                                        <div class="row">
                                            <div class="col-md-3 col-xs-6 b-r"> <strong>Username</strong>
                                                <br>
                                                <p class="text-muted">{{thera.theraname}}</p>
                                            </div>
                                          
                                            <div class="col-md-3 col-xs-6 b-r"><strong>Email</strong>
                                                <br>
                                                <p class="text-muted">{{thera.theraemail}}</p>
                                            </div>
                                            <div class="col-md-3 col-xs-6"> <strong>Specialization</strong>
                                                <br>
                                                <p class="text-muted">{{thera.specialization}}</p>
                                            </div>
                                        </div>
                                        <hr>
                                        <h4 class="font-medium mt-4">Bio</h4>
                                        <p class="mt-4">{{ thera.bio if thera.bio else 'No bio available' }}</p>
                                      
                                        <hr>
                           
                                        <div class="progress">
                                           
                                        </div>
                                     
                                        <div class="progress">
                                        
                                        </div>
                                 
                                        <div class="progress">
                                        
                                        </div>
                                 
                                        <div class="progress">
                                            
                                        </div>
                                    </div>

                                    {{therapist}}
                                </div><div class="tab-pane" id="settings" role="tabpanel">
                                    <div class="card-body">
                                        <form class="form-horizontal form-material mx-2">
                                            <div class="form-group">
                                                <label class="col-md-12">Username</label>
                                                <div class="col-md-12">
                                                    <input type="text" placeholder="{{ thera.theraname }}"
                                                        class="form-control form-control-line ps-0" disabled>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label for="example-email" class="col-md-12">Email</label>
                                                <div class="col-md-12">
                                                    <input type="email" placeholder="{{ thera.theraemail }}"
                                                        class="form-control form-control-line ps-0" name="example-email"
                                                        id="example-email" disabled>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label class="col-md-12">Password</label>
                                                <div class="col-md-12">
                                                    <input type="password" value="{{ thera.Therapassword }}"
                                                        class="form-control form-control-line ps-0" disabled>
                                                </div>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                                
                            </div>
                        </div>
                    </div>
                </div>
                <!-- ============================================================== -->
                <!-- Table -->
                <!-- ============================================================== -->

       
 </div>
 </div>


{%endblock%}